<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body th:with="pageTitle=${'Movimentações da Moto ' + idMoto},
               baseUrl=|/motos/${idMoto}/movimentacoes|,
               content=~{::content}"
      th:insert="~{fragments/_layout}">
<div th:fragment="content">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3">Movimentações da Moto <span th:text="${idMoto}">—</span></h1>
    <a class="btn btn-primary" th:href="@{|/motos/${idMoto}/movimentacoes/novo|}">Registrar</a>
  </div>

  <table class="table table-striped align-middle">
    <thead>
      <tr><th>ID</th><th>Ponto</th><th>Data/Hora</th></tr>
    </thead>
    <tbody>
      <tr th:if="${#lists.isEmpty(page.content)}">
        <td colspan="3" class="text-center text-muted">Nenhuma movimentação.</td>
      </tr>
      <tr th:each="m : ${page.content}">
        <td th:text="${m.idMovimentacao}">ID</td>
        <td th:text="${m.idPonto}">Ponto</td>
        <td th:text="${#temporals.format(m.dataHora, 'dd/MM/yyyy HH:mm')}">Data</td>
      </tr>
    </tbody>
  </table>
	 <nav th:if="${page.totalPages > 1}">
	
	    <ul class="pagination">
	        <li class="page-item" th:classappend="${page.first} ? 'disabled'">
	            <a class="page-link" th:href="@{|/motos?page=${page.number-1}&size=${page.size}|}">Anterior</a>
	        </li>
	        <li class="page-item disabled">
	            <span class="page-link" th:text="${page.number+1} + ' / ' + ${page.totalPages}">1/1</span>
	        </li>
	        <li class="page-item" th:classappend="${page.last} ? 'disabled'">
	            <a class="page-link" th:href="@{|/motos?page=${page.number+1}&size=${page.size}|}">Próxima</a>
	        </li>
	    </ul>
	</nav>

  <div class="mt-3">
    <a class="btn btn-outline-secondary" th:href="@{/motos}">Voltar para Motos</a>
  </div>
</div>
</body>
</html>
