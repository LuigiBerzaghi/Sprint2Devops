<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body th:with="pageTitle=${isNew} ? 'Nova Moto' : 'Editar Moto', content=~{::content}"
      th:insert="~{fragments/_layout}">
<div th:fragment="content" class="col-lg-7">
  <h1 class="h4 mb-3" th:text="${pageTitle}">Nova Moto</h1>

  <form th:object="${dto}"
        th:action="${isNew} ? @{/motos} : @{|/motos/${dto.idMoto}|}"
        method="post">
    <input type="hidden" name="_method" value="put" th:if="${!isNew}"/>

	<div class="mb-3" th:if="${!isNew}">
	  <label class="form-label">ID</label>
	  <input class="form-control" th:value="*{idMoto}" readonly/>
	</div>

    <div class="mb-3">
      <label class="form-label">Modelo</label>
      <input class="form-control" th:field="*{modelo}"/>
      <div class="text-danger small" th:if="${#fields.hasErrors('modelo')}" th:errors="*{modelo}"></div>
    </div>

    <div class="mb-3">
      <label class="form-label">Placa</label>
      <input class="form-control" th:field="*{placa}"/>
      <div class="text-danger small" th:if="${#fields.hasErrors('placa')}" th:errors="*{placa}"></div>
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-primary" type="submit">Salvar</button>
      <a class="btn btn-outline-secondary" th:href="@{/motos}">Cancelar</a>
    </div>
  </form>
</div>
</body>
</html>
