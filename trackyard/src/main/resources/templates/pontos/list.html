<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body th:with="pageTitle='Pontos de Leitura', content=~{::content}"
      th:insert="~{fragments/_layout}">
<div th:fragment="content">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3">Pontos de Leitura</h1>
    <a class="btn btn-primary" th:href="@{/pontos/novo}">Novo Ponto</a>
  </div>

  <table class="table table-striped align-middle">
    <thead>
      <tr><th>ID</th><th>Nome do Ponto</th><th>Pátio (ID)</th><th>Descrição</th><th class="text-end">Ações</th></tr>
    </thead>
    <tbody>
      <tr th:if="${#lists.isEmpty(page.content)}">
        <td colspan="5" class="text-center text-muted">Nenhum ponto cadastrado.</td>
      </tr>
      <tr th:each="p : ${page.content}">
        <td th:text="${p.idPonto}">ID</td>
        <td th:text="${p.nomePonto}">Nome</td>
        <td th:text="${p.idPatio}">Pátio</td>
        <td th:text="${p.descricao}">Descrição</td>
        <td class="text-end">
          <a class="btn btn-sm btn-outline-secondary" th:href="@{|/pontos/${p.idPonto}/editar|}">Editar</a>
          <a class="btn btn-sm btn-outline-danger" th:href="@{|/pontos/${p.idPonto}/excluir|}">Excluir</a>
        </td>
      </tr>
    </tbody>
  </table>
      <!-- paginação simples -->
    <nav th:if="${page.totalPages > 1}">
   
        <ul class="pagination">
            <li class="page-item" th:classappend="${page.first} ? 'disabled'">
                <a class="page-link" th:href="@{|/motos?page=${page.number-1}&size=${page.size}|}">Anterior</a>
            </li>
            <li class="page-item disabled">
                <span class="page-link" th:text="${page.number+1} + ' / ' + ${page.totalPages}">1/1</span>
            </li>
            <li class="page-item" th:classappend="${page.last} ? 'disabled'">
                <a class="page-link" th:href="@{|/motos?page=${page.number+1}&size=${page.size}|}">Próxima</a>
            </li>
        </ul>
    </nav>
</div>
</body>
</html>
